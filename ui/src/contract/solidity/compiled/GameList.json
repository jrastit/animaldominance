{"abi":[{"inputs":[{"internalType":"contract GameManager","name":"_gameManager","type":"address"},{"internalType":"contract PlayGameFactory","name":"_playGameFactory","type":"address"},{"internalType":"contract PlayActionLib","name":"_playActionLib","type":"address"},{"internalType":"uint256","name":"_contractHash","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"turn","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"id","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"gameCardId","type":"uint8"}],"name":"DrawCard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"uint64","name":"userId","type":"uint64"}],"name":"GameCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"uint64","name":"userId","type":"uint64"}],"name":"GameCreatedBot","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"uint64","name":"winner","type":"uint64"}],"name":"GameEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"id","type":"uint64"},{"indexed":false,"internalType":"uint64","name":"userId","type":"uint64"}],"name":"GameFill","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint16","name":"version","type":"uint16"}],"name":"GameUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint8","name":"turn","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"id","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"gameCardId","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"actionTypeId","type":"uint8"},{"indexed":false,"internalType":"uint8","name":"dest","type":"uint8"},{"indexed":false,"internalType":"uint16","name":"result","type":"uint16"}],"name":"PlayAction","type":"event"},{"inputs":[{"internalType":"uint256","name":"_contractHash","type":"uint256"},{"internalType":"contract PlayBot","name":"bot","type":"address"}],"name":"addBot","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cancelGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractHash","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"_gameDeckId","type":"uint16"},{"internalType":"uint256","name":"_playBotHash","type":"uint256"}],"name":"createGameBotSelf","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_gameDeckId","type":"uint16"}],"name":"createGameSelf","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint64","name":"_gameId","type":"uint64"}],"name":"endGame","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"gameLastId","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"gameList","outputs":[{"internalType":"uint64","name":"userId1","type":"uint64"},{"internalType":"uint64","name":"userId2","type":"uint64"},{"internalType":"uint16","name":"userDeck1","type":"uint16"},{"internalType":"uint16","name":"userDeck2","type":"uint16"},{"internalType":"uint64","name":"winner","type":"uint64"},{"internalType":"bool","name":"ended","type":"bool"},{"internalType":"contract PlayGame","name":"playGame","type":"address"},{"internalType":"uint256","name":"playGameHash","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gameManager","outputs":[{"internalType":"contract GameManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"","type":"uint64"}],"name":"gameUserList","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint64","name":"_gameId","type":"uint64"},{"internalType":"uint16","name":"_gameDeckId","type":"uint16"}],"name":"joinGameSelf","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"playActionLib","outputs":[{"internalType":"contract PlayActionLib","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"playBotMap","outputs":[{"internalType":"contract PlayBot","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"playGameFactory","outputs":[{"internalType":"contract PlayGameFactory","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract GameManager","name":"_gameManager","type":"address"}],"name":"updateGameManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract PlayActionLib","name":"_playActionLib","type":"address"}],"name":"updatePlayActionLib","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract PlayGameFactory","name":"_playGameFactory","type":"address"}],"name":"updatePlayGameFactory","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"60806040523480156200001157600080fd5b5060405162001ff938038062001ff98339810160408190526200003491620001ef565b6000819055620000448462000064565b6200004f83620000e2565b6200005a826200015c565b5050505062000249565b6001600160a01b038116620000c05760405162461bcd60e51b815260206004820152601360248201527f47616d654d616e61676572206973206e756c6c0000000000000000000000000060448201526064015b60405180910390fd5b600180546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b0381166200013a5760405162461bcd60e51b815260206004820152601760248201527f706c617947616d65466163746f7279206973206e756c6c0000000000000000006044820152606401620000b7565b600380546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b038116620001b45760405162461bcd60e51b815260206004820152601560248201527f506c6179416374696f6e4c6962206973206e756c6c00000000000000000000006044820152606401620000b7565b600280546001600160a01b0319166001600160a01b0392909216919091179055565b6001600160a01b0381168114620001ec57600080fd5b50565b600080600080608085870312156200020657600080fd5b84516200021381620001d6565b60208601519094506200022681620001d6565b60408601519093506200023981620001d6565b6060959095015193969295505050565b611da080620002596000396000f3fe608060405234801561001057600080fd5b506004361061011b5760003560e01c80636624d65c116100b257806394aae0c311610081578063cb7a5b6a11610066578063cb7a5b6a14610408578063d462c2fb14610428578063d84c1ac91461043b57600080fd5b806394aae0c3146103d5578063c6b05266146103e857600080fd5b80636624d65c14610385578063670afcca1461039857806371d1aa69146103ab578063904c6094146103be57600080fd5b80633a06fcda116100ee5780633a06fcda146101bc5780634866599f14610217578063558f5d191461022a57806358e30b171461024a57600080fd5b80631c9cba1314610120578063225ac19d1461016857806325610418146101945780632d3cb205146101a9575b600080fd5b61014a61012e366004611b7e565b60056020526000908152604090205467ffffffffffffffff1681565b60405167ffffffffffffffff90911681526020015b60405180910390f35b60035461014a9074010000000000000000000000000000000000000000900467ffffffffffffffff1681565b6101a76101a2366004611bb9565b610443565b005b6101a76101b7366004611bee565b6104e5565b6101f26101ca366004611c09565b60066020526000908152604090205473ffffffffffffffffffffffffffffffffffffffff1681565b60405173ffffffffffffffffffffffffffffffffffffffff909116815260200161015f565b6101a7610225366004611c44565b6105e9565b6002546101f29073ffffffffffffffffffffffffffffffffffffffff1681565b61031d610258366004611b7e565b60046020526000908152604090208054600182015460029092015467ffffffffffffffff80831693680100000000000000008404821693700100000000000000000000000000000000810461ffff90811694720100000000000000000000000000000000000083049091169374010000000000000000000000000000000000000000830416927c010000000000000000000000000000000000000000000000000000000090920460ff169173ffffffffffffffffffffffffffffffffffffffff169088565b6040805167ffffffffffffffff998a168152978916602089015261ffff968716908801529390941660608601529416608084015292151560a083015273ffffffffffffffffffffffffffffffffffffffff1660c082015260e08101919091526101000161015f565b6101a7610393366004611c61565b610675565b6101a76103a6366004611c44565b610735565b6101a76103b9366004611c44565b6107be565b6103c760005481565b60405190815260200161015f565b6101a76103e3366004611c8b565b610847565b6001546101f29073ffffffffffffffffffffffffffffffffffffffff1681565b6003546101f29073ffffffffffffffffffffffffffffffffffffffff1681565b6101a7610436366004611b7e565b61092b565b6101a7610d5f565b6001546040517f2b956ff70000000000000000000000000000000000000000000000000000000081523360048201526104e191849173ffffffffffffffffffffffffffffffffffffffff90911690632b956ff790602401602060405180830381865afa1580156104b7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104db9190611cbb565b83610f5c565b5050565b6001546040517f2b956ff700000000000000000000000000000000000000000000000000000000815233600482015260009173ffffffffffffffffffffffffffffffffffffffff1690632b956ff790602401602060405180830381865afa158015610554573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105789190611cbb565b905061058481836113ae565b6003546040805167ffffffffffffffff740100000000000000000000000000000000000000009093048316815291831660208301527f29e13caf6df8af6830ebebe00cab008401cacd29652b810fedbf81715289c52f91015b60405180910390a15050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cdbce03d6040518163ffffffff1660e01b815260040160006040518083038186803b15801561065157600080fd5b505afa158015610665573d6000803e3d6000fd5b50505050610672816115bd565b50565b6001546040517f2b956ff70000000000000000000000000000000000000000000000000000000081523360048201526104e19173ffffffffffffffffffffffffffffffffffffffff1690632b956ff790602401602060405180830381865afa1580156106e5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107099190611cbb565b600083815260066020526040902054849073ffffffffffffffffffffffffffffffffffffffff16611681565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cdbce03d6040518163ffffffff1660e01b815260040160006040518083038186803b15801561079d57600080fd5b505afa1580156107b1573d6000803e3d6000fd5b50505050610672816118ed565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cdbce03d6040518163ffffffff1660e01b815260040160006040518083038186803b15801561082657600080fd5b505afa15801561083a573d6000803e3d6000fd5b50505050610672816119b1565b60008281526006602052604090205473ffffffffffffffffffffffffffffffffffffffff16156108d8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f426f7420616c726561647920657869737400000000000000000000000000000060448201526064015b60405180910390fd5b60009182526006602052604090912080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff909216919091179055565b67ffffffffffffffff8116600090815260046020526040902080547c0100000000000000000000000000000000000000000000000000000000900460ff161561097357600080fd5b8060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166312fa6feb6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109e2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a069190611cd8565b610a0f57600080fd5b6001810154604080517fdfbf53ae000000000000000000000000000000000000000000000000000000008152905160009273ffffffffffffffffffffffffffffffffffffffff169163dfbf53ae9160048083019260209291908290030181865afa158015610a81573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610aa59190611cbb565b825467ffffffffffffffff82811674010000000000000000000000000000000000000000027fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff8316811780875560018054908801546040517f91483a180000000000000000000000000000000000000000000000000000000081529385169490951693909317600483015261ffff70010000000000000000000000000000000090910416602482015273ffffffffffffffffffffffffffffffffffffffff928316604482015292935016906391483a1890606401600060405180830381600087803b158015610b9357600080fd5b505af1158015610ba7573d6000803e3d6000fd5b5050835467ffffffffffffffff908116600090815260056020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000169055845468010000000000000000900416159150610d15905057600180548354918401546040517f91483a1800000000000000000000000000000000000000000000000000000000815268010000000000000000840467ffffffffffffffff166004820152720100000000000000000000000000000000000090930461ffff16602484015273ffffffffffffffffffffffffffffffffffffffff908116604484015216906391483a1890606401600060405180830381600087803b158015610cb057600080fd5b505af1158015610cc4573d6000803e3d6000fd5b5050835468010000000000000000900467ffffffffffffffff16600090815260056020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000016905550505b6040805167ffffffffffffffff8086168252831660208201527fc9af2464006920f5a3bc45cc9183fbb8ef25e9dfbc9510e6b7285617910ed9a991015b60405180910390a1505050565b6001546040517f2b956ff700000000000000000000000000000000000000000000000000000000815233600482015260009173ffffffffffffffffffffffffffffffffffffffff1690632b956ff790602401602060405180830381865afa158015610dce573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610df29190611cbb565b67ffffffffffffffff8082166000908152600560209081526040808320548416808452600490925290912054929350916801000000000000000090041615610e96576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f506c6179657220686173206a6f696e000000000000000000000000000000000060448201526064016108cf565b67ffffffffffffffff818116600081815260046020908152604080832080547fffffff00ffffffffffffffffffffffffffffffffffffffffffffffffffffffff167c0100000000000000000000000000000000000000000000000000000000179055938616808352600582529184902080547fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000016905583519283528201527fc9af2464006920f5a3bc45cc9183fbb8ef25e9dfbc9510e6b7285617910ed9a991016105dd565b67ffffffffffffffff831660009081526004602052604090206001015473ffffffffffffffffffffffffffffffffffffffff1615610ff6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600c60248201527f47616d652069732066756c6c000000000000000000000000000000000000000060448201526064016108cf565b67ffffffffffffffff83166000908152600460205260409020547c0100000000000000000000000000000000000000000000000000000000900460ff161561109a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f47616d6520697320656e6465640000000000000000000000000000000000000060448201526064016108cf565b67ffffffffffffffff808316600090815260056020526040902054161561111d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f7573657220616c726561647920696e2067616d6500000000000000000000000060448201526064016108cf565b6001546040517fc5c3c7db00000000000000000000000000000000000000000000000000000000815267ffffffffffffffff8416600482015261ffff8316602482015273ffffffffffffffffffffffffffffffffffffffff9091169063c5c3c7db9060440160006040518083038186803b15801561119a57600080fd5b505afa1580156111ae573d6000803e3d6000fd5b505050506111bf8383836000611a75565b67ffffffffffffffff8381166000818152600460208190526040808320600354600154825493517f10273a8a00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff91821695810195909552838816602486015261ffff70010000000000000000000000000000000085048116604487015268010000000000000000850490981660648601527201000000000000000000000000000000000000909304909616608484015260a483019490945260c4820192909252919216906310273a8a9060e4016020604051808303816000875af11580156112bd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112e19190611cfa565b6001820180547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff9290921691909117905567ffffffffffffffff83811660008181526005602090815260409182902080547fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000016948916948517905581519384528301919091527f139afab3be345a3c48ee08d29d523a9be4811b31d91e9364ea99065136bf0da1910160405180910390a150505050565b67ffffffffffffffff8083166000908152600560205260409020541615611431576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f7573657220616c726561647920696e2067616d6500000000000000000000000060448201526064016108cf565b6001546040517fc5c3c7db00000000000000000000000000000000000000000000000000000000815267ffffffffffffffff8416600482015261ffff8316602482015273ffffffffffffffffffffffffffffffffffffffff9091169063c5c3c7db9060440160006040518083038186803b1580156114ae57600080fd5b505afa1580156114c2573d6000803e3d6000fd5b50506003546114f7925074010000000000000000000000000000000000000000900467ffffffffffffffff1690506001611d17565b600380547fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff167401000000000000000000000000000000000000000067ffffffffffffffff938416810291909117918290556115599291041683836001611a75565b5060035467ffffffffffffffff918216600090815260056020526040902080547fffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000167401000000000000000000000000000000000000000090920492909216179055565b73ffffffffffffffffffffffffffffffffffffffff811661163a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f506c6179416374696f6e4c6962206973206e756c6c000000000000000000000060448201526064016108cf565b600280547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b73ffffffffffffffffffffffffffffffffffffffff81166116fe576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600d60248201527f426f74206e6f7420666f756e640000000000000000000000000000000000000060448201526064016108cf565b61170883836113ae565b6003546001546040517f10273a8a00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff918216600482015267ffffffffffffffff808716602483015261ffff8616604483018190526000606484015260848301527401000000000000000000000000000000000000000084041660a482015283821660c48201529116906310273a8a9060e4016020604051808303816000875af11580156117cb573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117ef9190611cfa565b6003805467ffffffffffffffff740100000000000000000000000000000000000000009182900481166000908152600460209081526040808320600101805473ffffffffffffffffffffffffffffffffffffffff989098167fffffffffffffffffffffffff0000000000000000000000000000000000000000909816979097179096558454898416808452600583529287902080547fffffffffffffffffffffffffffffffffffffffffffffffff000000000000000016918690048516919091179055935485519390049091168252918101919091527f94938dd77f46023d00a948372be03a7eb5be471bf7eb861c1a5bbcbd2244d1589101610d52565b73ffffffffffffffffffffffffffffffffffffffff811661196a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f706c617947616d65466163746f7279206973206e756c6c00000000000000000060448201526064016108cf565b600380547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b73ffffffffffffffffffffffffffffffffffffffff8116611a2e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f47616d654d616e61676572206973206e756c6c0000000000000000000000000060448201526064016108cf565b600180547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b67ffffffffffffffff841660009081526004602052604090208115611ae657805461ffff8416700100000000000000000000000000000000027fffffffffffffffffffffffffffff0000ffffffffffffffff000000000000000090911667ffffffffffffffff861617178155611b61565b80547fffffffffffffffffffffffff0000ffff0000000000000000ffffffffffffffff166801000000000000000067ffffffffffffffff8616027fffffffffffffffffffffffff0000ffffffffffffffffffffffffffffffffffff1617720100000000000000000000000000000000000061ffff8516021781555b5050505050565b67ffffffffffffffff8116811461067257600080fd5b600060208284031215611b9057600080fd5b8135611b9b81611b68565b9392505050565b803561ffff81168114611bb457600080fd5b919050565b60008060408385031215611bcc57600080fd5b8235611bd781611b68565b9150611be560208401611ba2565b90509250929050565b600060208284031215611c0057600080fd5b611b9b82611ba2565b600060208284031215611c1b57600080fd5b5035919050565b73ffffffffffffffffffffffffffffffffffffffff8116811461067257600080fd5b600060208284031215611c5657600080fd5b8135611b9b81611c22565b60008060408385031215611c7457600080fd5b611c7d83611ba2565b946020939093013593505050565b60008060408385031215611c9e57600080fd5b823591506020830135611cb081611c22565b809150509250929050565b600060208284031215611ccd57600080fd5b8151611b9b81611b68565b600060208284031215611cea57600080fd5b81518015158114611b9b57600080fd5b600060208284031215611d0c57600080fd5b8151611b9b81611c22565b600067ffffffffffffffff808316818516808303821115611d61577f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b0194935050505056fea2646970667358221220a7baecfa2e4d26eb0a9e0089136bc4538bef417761a5ac8343761c6c3a06f43164736f6c634300080d0033"}